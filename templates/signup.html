<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
    // get users data
function userRegistration(form) {
	// if any form field isn't filled don't go on
	if(!form.userEmail.value || !form.userPassword.value || !form.userFirst.value || !form.userLast.value || !form.userPhone.value || !form.street.value || !form.city.value || !form.country.value || !form.userGender.value || !form.date.value || !form.month.value || !form.year.value) {
		
		if(form.userEmail.value !== form.userRepeatEmail.value || form.userPassword.value !== form.userRepeatPassword.value) {
			
			// VALIDATE EMAIL ADDRESS
			var emailInput = form.userEmail.value
			var regEx = /^[a-z0-9._%-]+@[a-z0-9.-]+\.[a-z]{2,5}$/
			var testing = (regEx.test(emailInput))
			
			if( testing !== true) {
				alert('Please entered a validated email')
				form.userEmail.focus();
				return false;
			}

			// ACCEPT TERMS
			if(!form.agreement.checked) {
				alert("Please indicate that you accept the Terms and Conditions")
				form.agreement.focus();
				return false;
			}
			alert('Sorry your Email or Password is unmatched')
			form.userEmail.focus();
			form.userPassword.focus();
			return false;
		}
		alert('Missing Data')
		return
	}

	// store all form data in an object, selecting by elements
	var registeredUser = {
		email : form.userEmail.value,
		firstname : form.userFirst.value,
		lastname : form.userLast.value,
		phone : form.userPhone.value,
		street : form.street.value,
		city : form.city.value,
		country : form.country.value,
		gender : form.userGender.value,
		date : form.date.value,
		month : form.month.value,
		year : form.year.value,
	}

	// passing registered user info
	displayUser(registeredUser)
}

// display User Information
function displayUser(registeredUser) {
	console.log(registeredUser)

	// selecting elements
	var userEmail = document.getElementById('userEmail'),
		userName = document.getElementById('userName'),
		userPhone = document.getElementById('userPhone'),
		userAddress = document.getElementById('userAddress'),
		userGender = document.getElementById('userGender'),
		userBirthday = document.getElementById('userBirthday')

	// add text into elements
	userEmail.innerText = "Email: " + registeredUser.email
	userName.innerText = "Name: " + registeredUser.firstname + " " + registeredUser.lastname
	userPhone.innerText = "Phone: " + registeredUser.phone
	userAddress.innerText = "Address: " + registeredUser.street + " " + registeredUser.city + " " + registeredUser.country
	userGender.innerText = "Gender: " + registeredUser.gender
	userBirthday.innerText = "Birthday: " + registeredUser.month + " " + registeredUser.date + " " + registeredUser.year

	// hide registration form
	document.getElementById('newUser').style.display = "none"
	// display new register form
	document.getElementById('updatedProfile').style.display = "block"
}

// add click function to button
document.getElementById('registerButton').addEventListener('click', function() {
	userRegistration(document.newUser)
}, false)

	</script>
   <style>
  .container {
    padding: 80px 120px;
  }
  </style>
</head>
<body>
	<div class="container">
  <div id="newUser" class="col-sm-6 col-sm-offset-3">
    <!-- New User Profile -->
    <form name="newUser" class="register" action="/signup" method="POST">
      <h1>Register Form</h1>
      <fieldset class="row1">
        <legend>Account Details</legend>
        <!-- EMAIL -->
        <div class="form-group">
          <label>Email *</label>
          <input type="email" name="userEmail" class="form-control">
          <label>Repeat Email *</label>
          <input type="email" name="userRepeatEmail" class="form-control">
        </div>
        <!-- PASSWORD -->
        <div class="form-group">
          <label>Password *</label>
          <input type="password" name="userPassword" class="form-control">
          <label>Repeat Password *</label>
          <input type="password" name="userRepeatPassword" class="form-control">
        </div>
      </fieldset>

      <fieldset class="row2">
        <legend>Personal Details</legend>
        <!-- NAME -->
        <div class="form-group">
          <label>First Name *</label>
          <input type="text" name="userFirst" class="form-control">
          <label>Last Name *</label>
          <input type="text" name="userLast" class="form-control">
        </div>

        <!-- PHONE NUMBER -->
        <div class="form-group">
          <label>Phone Number *</label>
          <input type="phone" name="userPhone" class="form-control">
        </div>

        <!-- ADDRESS -->
        <div class="form-group">
          <label>Address *</label>
          <input type="address" name="street" class="form-control">
          <label>City *</label>
          <input type="city" name="city" class="form-control">
          <label>Country *</label>
          <br>
          <select name="country">
            <option>
            </option>
            <option value='United State'>United State</option>
          </select>
        </div>
      </fieldset>

      <fieldset class="row3">
        <legend>Further Information</legend>
        <!-- GENDER -->
        <div class="form-group">
          <label>Gender :
            <input type="radio" name="userGender" value="male"> Male
            <input type="radio" name="userGender" value="female"> Female
          </label>
        </div>

        <!-- BIRTHDAY -->
        <div class="form-group">
          <label>Birthdate :</label>
          <select name="date">
            <option value="1">01
            </option>
            <option value="2">02
            </option>
            <option value="3">03
            </option>
            <option value="4">04
            </option>
            <option value="5">05
            </option>
            <option value="6">06
            </option>
            <option value="7">07
            </option>
            <option value="8">08
            </option>
            <option value="9">09
            </option>
            <option value="10">10
            </option>
            <option value="11">11
            </option>
            <option value="12">12
            </option>
            <option value="13">13
            </option>
            <option value="14">14
            </option>
            <option value="15">15
            </option>
            <option value="16">16
            </option>
            <option value="17">17
            </option>
            <option value="18">18
            </option>
            <option value="19">19
            </option>
            <option value="20">20
            </option>
            <option value="21">21
            </option>
            <option value="22">22
            </option>
            <option value="23">23
            </option>
            <option value="24">24
            </option>
            <option value="25">25
            </option>
            <option value="26">26
            </option>
            <option value="27">27
            </option>
            <option value="28">28
            </option>
            <option value="29">29
            </option>
            <option value="30">30
            </option>
            <option value="31">31
            </option>
          </select>
          <select name="month">
            <option value="1">January
            </option>
            <option value="2">February
            </option>
            <option value="3">March
            </option>
            <option value="4">April
            </option>
            <option value="5">May
            </option>
            <option value="6">June
            </option>
            <option value="7">July
            </option>
            <option value="8">August
            </option>
            <option value="9">September
            </option>
            <option value="10">October
            </option>
            <option value="11">November
            </option>
            <option value="12">December
            </option>
          </select>
          <input name="year" type="text" size="4" maxlength="4" />e.g 1986
        </div>
      </fieldset>
      <fieldset class="row4">
        <legend>Terms and Mailing</legend>
        <div class="agreement">
          <input type="checkbox" name="agreement">
          <label>* I accept the <a href="#">Terms and Conditions</a></label>
        </div>
        <div class="agreement">
          <input type="checkbox">
          <label>I want to receive personalized offers by your site</label>
        </div>
        <div class="agreement">
          <input type="checkbox">
          <label>Allow partners to send me personalized offers and related services</label>
        </div>
      </fieldset>
      <div>
        <button type="button" id="registerButton">Register &raquo;</button>
      </div>
    </form>
  </div> <!-- New User -->
  <div id="updatedProfile" class="col-sm-6 col-sm-offset-3">
    <h1>THANK YOU FOR REGISTRATING</h1>
    <div>
      <h2 id="userEmail"></h2>
      <h3 id="userName"></h3>
      <h3 id="userPhone"></h3>
      <h3 id="userAddress"></h3>
      <h3 id="userGender"></h3>
      <h3 id="userBirthday"></h3>
    </div>
  </div>
</div> <!-- Container -->
	</body>
</html>